SELECT * FROM 무한상사;

SELECT 직원이름, LEVEL,CONNECT_BY_ISLEAF, CONNECT_BY_ISCYCLE,SYS_CONNECT_BY_PATH(직원이름,'->') 경로 
,CONNECT_BY_ROOT(직원이름)
FROM 무한상사
START WITH 직원이름 = '유재석'
CONNECT BY NOCYCLE PRIOR 직원이름 = 상사이름;


UPDATE 무한상사
SET 상사이름 = '하하'
WHERE 직원이름 = '김철수';



SELECT * FROM EMPLOYEES e ;
--lex 에서 자신이 받던 봉급에서 2000달러 감소
UPDATE EMPLOYEES 
SET SALARY = SALARY -2000
WHERE EMPLOYEE_ID = 102;

--ALEXANDER에게 2000달러 추가
UPDATE EMPLOYEES 
SET SALARY = SALARY +2000
WHERE EMPLOYEE_ID = 103;

--작업공간에선 바뀌나 데이터베이스에는 바뀌지않음

COMMIT;

INSERT INTO DEPARTMENTS 
VALUES(300,'TEST1', NULL,1700);

SAVEPOINT S1;

INSERT INTO DEPARTMENTS 
VALUES(310,'TEST2', NULL,1700);

SAVEPOINT S2;

INSERT INTO DEPARTMENTS 
VALUES(320,'TEST3', NULL,1700);

SAVEPOINT S3;

SELECT * FROM DEPARTMENTS d ;

ROLLBACK TO S2;

ROLLBACK ;


CREATE TABLE TEST1(
		A VARCHAR2(100),
		B CHAR(100),
		C NUMBER(5,1),
		D DATE
);

SELECT * FROM TEST1;

CREATE TABLE TEST3(
	ID VARCHAR2(100) PRIMARY KEY,
	NAME VARCHAR2(100) NOT NULL,
	GRADE VARCHAR2(100) DEFAULT 'NORMAL' NOT NULL CHECK (GRADE IN('NORMAL', 'VIP')),
);

CREATE TABLE TEST4(
	ID VARCHAR2(100),
	NAME VARCHAR2(100),
	GRADE VARCHAR2(100),
	CONSTRAINT TEST4_PK PRIMARY KEY(ID),
	CONSTRAINT TEST4_CK CHECK(GRADE IN('NORMAL','VIP'))
);
